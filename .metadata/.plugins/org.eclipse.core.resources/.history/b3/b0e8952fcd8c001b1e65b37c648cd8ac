package model;

import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.util.ArrayList;

public class Raport {
	public Raport()
	{
		
	}
	public void generareRaportCSV(String magazin)
	{
		ProdusPersistenta pers = new ProdusPersistenta();
		ArrayList<Produs> dateProduse = pers.accesListaProduseRaport(magazin);
		try (PrintWriter writer = new PrintWriter(new File("ReportProduse".concat(magazin).concat(".csv")))) {

	        StringBuilder sb = new StringBuilder();
	        sb.append("Nume");
	        sb.append(',');
	        sb.append("Producator");
	        sb.append(',');
	        sb.append("Pret");
	        sb.append(',');
	        sb.append("Disponibilitate");
	        sb.append(',');
	        sb.append("Cale catre imagine");
	        sb.append('\n');
	        
	        
	        for(Produs data: dateProduse)
	        {
	        	sb.append(data.accesNume());
	        	sb.append(',');
	        	sb.append(data.accesProducator());
	        	sb.append(',');
	        	sb.append(data.accesPret());
	        	sb.append(',');
	        	sb.append(data.accesDisponibilitate());
	        	sb.append(',');
	        	sb.append(data.accesImagine());
	        	sb.append('\n');	        		        	
	        	
	        }

	        writer.write(sb.toString());

	        System.out.println("done!");

	      } catch (FileNotFoundException e) {
	        System.out.println(e.getMessage());
	      }
	}
}
